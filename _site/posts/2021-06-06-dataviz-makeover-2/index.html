<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>My DataViz Makeovers: DataViz MakeOver #2</title>

<meta property="description" itemprop="description" content="Giving a trade statistic visualization interactive chart a facelift in Tableau."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-06-06"/>
<meta property="article:created" itemprop="dateCreated" content="2021-06-06"/>
<meta name="article:author" content="Rhoda Tong"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="My DataViz Makeovers: DataViz MakeOver #2"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Giving a trade statistic visualization interactive chart a facelift in Tableau."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="My DataViz Makeovers"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="My DataViz Makeovers: DataViz MakeOver #2"/>
<meta property="twitter:description" content="Giving a trade statistic visualization interactive chart a facelift in Tableau."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","preview"]}},"value":[{"type":"character","attributes":{},"value":["DataViz MakeOver #2"]},{"type":"character","attributes":{},"value":["Giving a trade statistic visualization interactive chart a facelift in Tableau."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Rhoda Tong"]},{"type":"character","attributes":{},"value":["https://public.tableau.com/app/profile/mt.tong/viz/DataVizMakeover2_16240837165630/TradeDB"]}]}]},{"type":"character","attributes":{},"value":["06-06-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["images/img117.png"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-makeover-2_files/anchor-4.2.2/anchor.min.js","dataviz-makeover-2_files/bowser-1.9.3/bowser.min.js","dataviz-makeover-2_files/distill-2.2.21/template.v2.js","dataviz-makeover-2_files/jquery-1.11.3/jquery.min.js","dataviz-makeover-2_files/panelset-0.2.6/panelset.css","dataviz-makeover-2_files/panelset-0.2.6/panelset.js","dataviz-makeover-2_files/popper-2.6.0/popper.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-bundle.umd.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-light-border.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.umd.min.js","dataviz-makeover-2_files/webcomponents-2.0.0/webcomponents.js","embed.html","Images/img01.jpg","Images/img02.jpg","Images/img03.png","Images/img04.png","Images/img05.png","Images/img06.png","Images/img07.png","Images/img08.png","Images/img09.png","Images/img10.png","Images/img100.png","Images/img101.png","Images/img102.png","Images/img103.png","Images/img104.png","Images/img105.png","Images/img106.png","Images/img107.png","Images/img108.png","Images/img109.png","Images/img11.png","Images/img110.png","Images/img111.png","Images/img112.png","Images/img113.png","Images/img114.png","Images/img115.png","Images/img116.png","Images/img117.png","Images/img118.png","Images/img119.png","Images/img12.png","Images/img120.png","Images/img121.png","Images/img122.png","Images/img13.png","Images/img14.png","Images/img15.png","Images/img16.png","Images/img17.png","Images/img18.png","Images/img19.png","Images/img20.png","Images/img21.png","Images/img22.png","Images/img23.png","Images/img24.png","Images/img25.png","Images/img26.png","Images/img27.png","Images/img28.png","Images/img29.png","Images/img30.png","Images/img31.png","Images/img32.png","Images/img33.png","Images/img34.png","Images/img35.png","Images/img36.png","Images/img37.png","Images/img38.png","Images/img39.png","Images/img40.png","Images/img41.png","Images/img42.png","Images/img43.png","Images/img44.png","Images/img45.png","Images/img46.png","Images/img47.png","Images/img48.png","Images/img49.png","Images/img50.png","Images/img51.png","Images/img52.png","Images/img53.png","Images/img54.png","Images/img55.png","Images/img56.png","Images/img57.png","Images/img58.png","Images/img59.png","Images/img60.png","Images/img61.png","Images/img62.png","Images/img63.png","Images/img64.png","Images/img65.png","Images/img66.png","Images/img67.png","Images/img68.png","Images/img69.png","Images/img70.png","Images/img71.png","Images/img72.png","Images/img73.png","Images/img74.png","Images/img75.png","Images/img76.png","Images/img77.png","Images/img78.png","Images/img79.png","Images/img80.png","Images/img81.png","Images/img82.png","Images/img83.png","Images/img84.png","Images/img85.png","Images/img86.png","Images/img87.png","Images/img88.png","Images/img89.png","Images/img90.png","Images/img91.png","Images/img92.png","Images/img93.png","Images/img94.png","Images/img95.png","Images/img96.png","Images/img97.png","Images/img98.png","Images/img99.png","Images/SketchPart1.jpg","Images/SketchPart2.jpg","Images/TradeDBBBB.jpg"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <link href="../../site_libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
  <script src="../../site_libs/panelset-0.2.6/panelset.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz MakeOver #2","description":"Giving a trade statistic visualization interactive chart a facelift in Tableau.","authors":[{"author":"Rhoda Tong","authorURL":"https://public.tableau.com/app/profile/mt.tong/viz/DataVizMakeover2_16240837165630/TradeDB","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-06-06T00:00:00.000+08:00","citationText":"Tong, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">My DataViz Makeovers</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz MakeOver #2</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Giving a trade statistic visualization interactive chart a facelift in Tableau.</p></p>
</div>

<div class="d-byline">
  Rhoda Tong <a href="https://public.tableau.com/app/profile/mt.tong/viz/DataVizMakeover2_16240837165630/TradeDB" class="uri">https://public.tableau.com/app/profile/mt.tong/viz/DataVizMakeover2_16240837165630/TradeDB</a> 
  
<br/>06-06-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#the-original-visualization">1. The Original Visualization</a></li>
<li><a href="#critique-to-identify-areas-for-improvement">2. Critique to Identify Areas for Improvement</a><ul>
<li><a href="#clarity">2.1 Clarity</a></li>
<li><a href="#aesthetics">2.2 Aesthetics</a></li>
</ul></li>
<li><a href="#sketch-of-proposed-design-and-comments">3. Sketch of Proposed Design and Comments</a><ul>
<li><a href="#clarity-1">3.1 Clarity</a></li>
<li><a href="#aesthetics-1">3.2 Aesthetics</a></li>
</ul></li>
<li><a href="#step-by-step-guide-to-creating-the-proposed-visualization-in-tableau">4. Step-by-Step Guide to Creating the Proposed Visualization in Tableau</a><ul>
<li><a href="#data-preparation">4.1 Data Preparation</a></li>
<li><a href="#section"></a></li>
<li><a href="#visualization-chart-preparation">4.2 Visualization Chart Preparation</a><ul>
<li><a href="#imports-exports-line-charts">4.2.1 Imports / Exports Line Charts</a></li>
<li><a href="#imports-exports-bar-charts">4.2.2 Imports / Exports Bar Charts</a></li>
<li><a href="#net-exports-imports-bubble-plot">4.2.3 Net Exports Imports Bubble Plot</a></li>
</ul></li>
<li><a href="#dashboard-preparation">4.3 Dashboard Preparation</a></li>
</ul></li>
<li><a href="#the-final-visualization">5. The Final Visualization</a></li>
<li><a href="#major-insights-revealed-by-the-final-visualization-prepared">6. Major Insights Revealed by the Final Visualization Prepared</a></li>
</ul>
</nav>
</div>
<h1 id="overview">Overview</h1>
<p>Statistics on Singapore’s merchandise trade partners are compiled by Enterprise Singapore, and provided by Department of Statistics, Singapore (DOS). An interactive bubble plot illustrating the imports and exports numbers for the year 2020 for various regions is displayed in DOS’ <a href="https://www.singstat.gov.sg/modules/infographics/singapore-international-trade">Singstat</a> infographics site. We have attempted a ‘makeover’ on this visualization using Tableau to improve on its clarity and interactivity as part on an assignment for an MITB module on Visual Analytics and Applications. This post would illustrate the makeover process and cover the following sections:</p>
<ol type="1">
<li><p>The Original Visualization</p></li>
<li><p>Critique to Identify Areas for Improvement</p>
<ul>
<li>Clarity</li>
<li>Aesthetics</li>
</ul></li>
<li><p>Sketch of Proposed Design and Comments</p></li>
<li><p>Step-by-Step Guide to Creating the Proposed Visualization in Tableau</p></li>
<li><p>The Final Visualization</p></li>
<li><p>Major Insights Revealed by the Final Visualization Prepared</p></li>
</ol>
<h1 id="the-original-visualization">1. The Original Visualization</h1>
<div class="layout-chunk" data-layout="l-body">
<p><img src="Images/img01.jpg" width="100%" style="float:center; padding:3px" style="display: block; margin: auto;" /></p>
</div>
<h1 id="critique-to-identify-areas-for-improvement">2. Critique to Identify Areas for Improvement</h1>
<h2 id="clarity">2.1 Clarity</h2>
<ul>
<li><p><strong>Chart is restricted to 2020 figures. There are no means to compare with information from other years.</strong> This information that these are 2020 figures is derived from the title on the original website, which is missing from the above chart.</p></li>
<li><p><strong>Level of detail is lacking for this interactive chart, especially in the tooltip.</strong> One of the main points covered by the bubble plot is the status of trade balance for each country/region. This is derived from the difference between the export and import value. The tooltip of each location point only shows the country/region, and a trade figure. It is also not immediately apparent whether this figure is an import value, export value, total trade value or trade balance figure. The reader must decipher this information on his/her own by reading off the axes.</p></li>
<li><p><strong>Content illustrated in the commentary at the bottom is inconsistent with that of the chart displayed.</strong> The circle for United States is in the Net Exporters region, but commentary states that the value of imports exceeds exports for Singapore’s trade with the United States since 2006, implying a Net Import status. This results in information gap for the reader between the text and graphical visualization.</p></li>
<li><p><strong>The positioning of the axis labels can be confusing. No units for axis as well.</strong> The Y-axis is for Imports but its label is below the X-axis ; X-axis is for Exports but its label is beside the Y-axis. Though perhaps the intention is to distinguish by color, as the color of the label and axis is similar, but the positioning of the labels is not intuitive. The units and axis marks are also missing for the axes.</p></li>
<li><p><strong>As an interactive chart, level of interactivity seems to be restricted to just de-overlapping circle points, with no additional information derived.</strong></p></li>
<li><p><strong>Method to distinguish net importers and net exporters is good, but can be unclear for some points which fall on the borderline.</strong> For instance, borderline cases like Japan and Republic of Korea, is it a net export or import with these countries?</p></li>
</ul>
<h2 id="aesthetics">2.2 Aesthetics</h2>
<ul>
<li><p><strong>Use of colors make the chart beautiful, but masks the focus and message.</strong> While the different colors make the chart look vibrant and aesthetically pleasing, there is no focus – nothing stands out to the reader. What is the chart trying to tell us? Even the Top Net Exporter and Top Net Importer icons are camouflaged because they are of the same color tone as the rest of the chart.</p></li>
<li><p><strong>The bubbles overlap each other, blocking information.</strong> The bubbles are all opaque and would block other bubbles in the same cluster.</p></li>
<li><p><strong>Circle labels and the corresponding bubbles are all over the place, which makes the plot look messy.</strong> The intention is to reflect the total merchandise trade value by the size of the bubble, but the bubbles and their mis-aligned labels (sometimes it’s on top of the bubble, sometimes it’s to the left/right) crowded the chart space, distracting the reader from being able to focus on the bubbles at first glance.</p></li>
<li><p><strong>Difficult to read off Export and Import values for each country with no gridlines.</strong></p></li>
<li><p><strong>Alignment of circle labels not optimized to make full use of space and minimize overlapping.</strong> For example, the label for Malaysia could be aligned to the top instead of to the right as there is so much space on top. The label for United States can also go to the right instead of to the left, then it would not be blocking the circle for Taiwan.</p></li>
</ul>
<h1 id="sketch-of-proposed-design-and-comments">3. Sketch of Proposed Design and Comments</h1>
<p><img src="Images/SketchPart1.jpg" /> <img src="Images/SketchPart2.jpg" /></p>
<h2 id="clarity-1">3.1 Clarity</h2>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th>My Proposed Design</th>
<th>Problems in the Original Viz Addressed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The new charts would display information from 2011 to 2020, according to user’s preference. As the chart will be animated, the changes between the years the user wants to compare can also be easily visualized by toggling between the years.</td>
<td>Chart is restricted to 2020 figures. There are no means to compare with information from other years.</td>
</tr>
<tr class="even">
<td>There would be no need for the user to read off axes values in the new charts. Each bar chart will be properly labeled, and the details for each bubble are all included in the respective tooltips. The breakdown on total trade value, annual imports, annual exports, will all be in one tooltip. Even the status of the trade balance can be inferred at first glance whether it is a trade deficit or trade surplus. <br></br> There will also be additional information such as ranking by the various measures in both the bubble chart tooltips, and the bar charts. We would be able to see the top N countries for each measure immediately upon selection as well, and displayed in descending order. We can even choose how many countries to list by varying N. <br></br> If I want to drill down to monthly variations, I could too! I would only need to hover over a bar, and the corresponding monthly line chart for that measure for that year would show up. <br></br> Both charts would also linked such that if I highlight a bar, the corresponding bubble is also highlighted, and vice versa. <br></br> Thus providing flexibility as to what the user wishes to see and compare.</td>
<td>Level of detail is lacking for this interactive chart, especially in the tooltip. <br></br> As an interactive chart, level of interactivity seems to be restricted to just de-overlapping circle points, with no additional information derived.</td>
</tr>
<tr class="odd">
<td>As the data for this visualization spans across the years, and the main objective is to allow the user to have flexibility to compare across different years, countries, measures etc., content coverage can be so vast. We can leave out the commentaries and attribute more space for interactivity. More white space can ease the overall view of the chart, making it look less busy overall.</td>
<td>Content illustrated in the commentary at the bottom is inconsistent with that of the chart displayed.</td>
</tr>
<tr class="even">
<td>Axes in the new charts will be excluded as far as possible as long as it is clear to the user what each axis refers to. For instance, in the bar chart, the country column is self-explanatory, we do not need a header. The Imports and Exports bars are also distinguished by color. Where headers are included, for e.g. in the bubble plot, the positions of the headers are non-ambiguous to which axis they are for. Respective units $ will also be included.</td>
<td>The positioning of the axis labels can be confusing. No units for axis as well.</td>
</tr>
<tr class="odd">
<td>The original chart distinguishes between net importers and exporters by their position to the left or right of a diagonal line, which is unclear for borderline points. In our new chart, there is no need to make a judgement whether it is right or left, the distinction would be in the color – Red: Net Importer (Trade Deficit), Blue: Net Exporter (Trade Surplus). We can even see from the color intensity what the magnitude of the trade balance is – Darker colors: Very positive/Very Negative; Lighter colors: Less Positive/Less Negative.<br></br>The distinction will also be clear in the tooltip, where the value of the trade balance is indicated, and in the color of the status – Red or Blue.</td>
<td>Method to distinguish net importers and net exporters is good, but can be unclear for some points which fall on the borderline.</td>
</tr>
</tbody>
</table>
<h2 id="aesthetics-1">3.2 Aesthetics</h2>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th>My Proposed Design</th>
<th>Problems in the Original Viz Addressed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Use of colors in the new chart is only for distinction between measure types, or trade balance status. There is meaning behind the assignment of different colors. In this case, our bubbles will either be blue or red, based on their trade balance status. Our bar chart is either blue or orange, based on whether it is for Exports or Imports. <br></br>Colors are also used in our text, to serve as a legend for our visualization. For e.g. The meaning behind our red and blue bubbles are stated in the subtitle of the bubble plot (A red bubble shows a trade deficit…). For our bar chart, the color assigned to Imports and Exports are also expressed in the subtitle (Imports and Exports Statistics).<br></br>The top exporter, top importer is explicitly ranked and positioned at the top in the bar chart. No awkward floating labels required.<br></br>All other text would either be in black – for text that we want to stand out, like Chart Titles, Chart Labels, key figures in tooltips, or in grey – for subtitles, and filler text in tooltips. This is emphasis via inking.</td>
<td>Use of colors make the chart beautiful, but masks the focus and message.</td>
</tr>
<tr class="even">
<td>It is inevitable that bubbles in the plot would have to overlap each other, as they need to be large enough to be visible. We will improve the visibility by making the bubbles transparent, and with white borders so that they are distinct from each other although they overlap.<br></br>As tooltips only appear upon hover, they will not be blocked by any bubble.</td>
<td>The bubbles overlap each other, blocking information.</td>
</tr>
<tr class="odd">
<td>There will be no labels in our new bubble plot, only bubbles. Labels only appear as tooltips. The outlook of the chart is cleaner this way.</td>
<td>Circle labels and the corresponding bubbles are all over the place, which makes the plot look messy.</td>
</tr>
<tr class="even">
<td>There is no need for the user to read off axes values in the new charts. All values are easily displayed in the tooltips.<br></br>The chart shows the trade positions of countries relative to each other at a high level.</td>
<td>Difficult to read off Export and Import values for each country with no gridlines.</td>
</tr>
<tr class="odd">
<td>This is an area which can be improved if the labels are retained in the bubble plot as a static chart. However, as our new charts will be interactive, static labels are not included and this issue is resolved.</td>
<td>Alignment of circle labels not optimized to make full use of space and minimize overlapping.</td>
</tr>
</tbody>
</table>
<h1 id="step-by-step-guide-to-creating-the-proposed-visualization-in-tableau">4. Step-by-Step Guide to Creating the Proposed Visualization in Tableau</h1>
<h2 id="data-preparation">4.1 Data Preparation</h2>
<p>The data for this makeover was initially prepared by loading the excel file in Tableau Desktop. However, as the dataset was huge, this resulted in the animations being very laggy. As Tableau Desktop does not have the function to perform edits on the dataset like remove columns, we need Tableau Prep Builder to do this. Hence, the data was prepared all over again using Tableau Prep Builder, before reloading the data into Tableau Desktop for the visualization.</p>
<p>The steps to prepare the data in Tableau Prep Builder are documented as below, together with how to replace an existing data source in Tableau Desktop with this edited data.</p>
<p>The steps to prepare the file in Tableau Desktop are also included here in another tab just for reference.</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="panelset">
<div class="panel">
<h2 id="by-tableau-prep-builder" class="panel-name">By Tableau Prep Builder</h2>
<p>The following steps show how to prepare the data via Tableau Prep Builder.</p>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th>Steps</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exploring the data of the file in Microsoft Excel, we can see three tabs – <em>Content</em>, <em>T1</em> and <em>T2</em>. From the description, <em>T1</em> is for Imports, and <em>T2</em> is for Exports data.</td>
<td><img src="Images/img02.jpg" style="width:60.0%" /></td>
</tr>
<tr class="even">
<td>We then import the data into Tableau Prep Builder for processing. We do this by dragging the <em>ImportsExports.xlsx</em> file into the Tableau window.</td>
<td><img src="Images/img16.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Once the data is imported, we load the individual tabs for data viewing. Here we load <em>T1</em> (Imports) data by dragging <em>T1</em> into the field.</td>
<td><img src="Images/img17.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>We note that there is unnecessary description information in the data table. We can get Tableau to clean this up by checking the <em>Data Interpreter</em> box. Tableau is able to scan through and distinguish the content. This way, only the table containing the data we need remains</td>
<td><img src="Images/img18.png" style="width:50.0%" /></td>
</tr>
<tr class="odd">
<td>Next, we are ready to proceed to next step to view and clean the data. Click <em>View and Clean Data</em>.</td>
<td><img src="Images/img19.png" style="width:80.0%" /></td>
</tr>
<tr class="even">
<td>According to the <em>Task</em>, the study period is between January 2011 – December 2020:<br></br> Hence, we shall remove the data prior to Jan 2011 and after Dec 2020 from the data tables. This is so that the processing will not be slowed down by the huge dataset. <br></br> Since each <em>Year-Month</em> is a column by itself currently, we shall highlight all columns prior to Jan 2011 and after Dec 2020, click the 3 dots in the function row, and <em>Remove Fields</em></td>
<td><img src="Images/img20.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Now the data table only contains the data we need. However, it is not in the correct structure. Currently, each <em>Month-Year</em> is a column, but we need this as a Dimension instead. So we have to do a pivot on this dataset to convert it to a stacked format.<br></br> Highlight all the data columns except the <em>Variables</em> column, Right Click on any highlighted column &gt; Pivot Columns to Rows</td>
<td><img src="Images/img21.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>The pivoted table should look like this.</td>
<td><img src="Images/img22.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Note that the Countries in the <em>Variables</em> column are displayed together with their units – “Million Dollars” for European Union and “Thousand Dollars” for the rest. These will also appear in any visualization that use these variables. We will extract the Country names by doing a <em>Custom Split</em> on the <em>Variables</em> column.<br></br>Right-Click on Variables column &gt; Custom Split &gt; Use Separator ‘(‘, Split off First 1 columns<br></br>A new column of the split variables <em>Variables – Split 1</em> will appear.</td>
<td><img src="Images/img23.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>We note that the units indicated in the <em>Variables</em> column are in “Million dollars” for the major regions like European Union, America, Europe, Asia, Oceania and Africa, and “Thousand dollars” for the rest, this means that the values displayed in the <em>Pivot Field Value</em> column need to be multiplied by a million and thousand dollars for the major region values, and other countries respectively. This is not intuitive. We shall convert the values so that the actual value is displayed. <br></br>We do this by creating a calculated field. <br></br>Right-Click on <em>Pivot1 Values</em> column or click the three dots &gt; Create Calculated Field &gt; Custom Calculation</td>
<td><img src="Images/img24.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Rename the new field as <em>Imports ($)</em> &gt; Key in the formula<br></br>IF [Variables - Split 1]=“European Union” OR [Variables - Split 1]=“America” OR [Variables - Split 1]=“Europe” OR [Variables - Split 1]=“Asia” OR [Variables - Split 1]=“Oceania” OR [Variables - Split 1]=“Africa”<br></br> THEN [Pivot1 Values]* 1000000<br></br>ELSE [Pivot1 Values]*1000<br></br>END</td>
<td><img src="Images/img25.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>The format of the <em>Pivot1 Names</em> is in String. We change it to Date format.<br></br>Right-Click the <em>Abc</em> in the top left corner &gt; Date</td>
<td><img src="Images/img26.png" style="width:80.0%" /></td>
</tr>
<tr class="odd">
<td>Next we will rename the data table, and the columns of the data table for ease of access. We will only rename those that we will be using eventually.<br></br><em>T1</em> &gt; <em>Imports</em><br></br><em>Pivot1 Names</em> &gt; <em>Date</em><br></br><em>Variables – Split 1</em> &gt; <em>Country</em><br></br><em>Imports ($)</em> &gt; <em>To be retained</em></td>
<td><img src="Images/img27.png" style="width:80.0%" /></td>
</tr>
<tr class="even">
<td>Next, we repeat the above steps for <em>T2</em>.</td>
<td><img src="Images/img28.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Finally, we have to tell Tableau how both data tables are related, so that when we apply filters later in the worksheet, the filters can apply to both tables.<br></br>We can do a <em>Join</em> by dragging <em>Pivot 3</em> to the area of <em>Pivot 1</em> and drop it onto the <em>Union</em> field which appears.</td>
<td><img src="Images/img29.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>To set the <em>Join</em> Settings:<br></br>We do a <em>Left Outer Join</em> between <em>Pivot 1</em> and <em>Pivot 3</em> so that we would retain all <em>Date</em> and <em>Country</em> fields.</td>
<td><img src="Images/img30.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>With the <em>Join 1</em> results, we shall now do a clean up on the table to remove all unnecessary columns. We only want to retain the following:<br></br> <em>Date</em>, <em>Country</em>, <em>Imports($)</em>, <em>Exports($)</em><br></br>Add another <em>Clean Step</em> to clean the joined table. Remove the unwanted columns.</td>
<td><img src="Images/img31.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>In addition, upon Exploratory Data Analysis, we find that import and export values aggregated by continents would be large and would throw off our country ranking later. Since these are just aggregated values and not needed in our visualization, these shall be excluded. <br></br> <em>America</em>, <em>Asia</em>, <em>Africa</em>, <em>Europe</em>, <em>European Union</em>, <em>Oceania</em><br></br>Click on the 3 dots under <em>Country</em> column &gt; Filter &gt; Selected Values</td>
<td><img src="Images/img32.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Choose the <em>Exclude</em> tab, key in the values we want to exclude.</td>
<td><img src="Images/img33.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Create an output, then we can save this as a <em>.hyper</em> file to import into Tableau Desktop.<br></br>I have named the <em>.hyper</em> file as <em>ImportExportCombinedB.hyper</em>.</td>
<td><img src="Images/img34.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>The cleaned data table is as shown.</td>
<td><img src="Images/img35.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Next we have to replace the Data Source used for our Tableau Desktop visualization.<br></br>Open your Tableau Desktop Workbook, navigate to any existing Worksheet. <br></br>Data &gt; New Data Source and then connect to the new data source <em>ImportExportCombinedB.hyper</em></td>
<td><img src="Images/img36.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Check the <em>Data Source</em> tab that an Extract of the new data source has already been done up automatically in the canvas. If not, drag it manually.</td>
<td><img src="Images/img37.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Go back to the <em>Worksheet</em>, select Data &gt; Replace Data Source<br></br>Current: <em>Your current Data Source</em><br></br>Replacement: <em>New Data Source</em><br></br><strong>Before you do this, make sure that the variable names currently used in the Worksheets exist in the new data source.</strong> This way, Tableau is able to do the re-links automatically.</td>
<td><img src="Images/img38.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>With this, the data source in the existing Tableau Workbook would be replaced!</td>
<td><img src="Images/img39.png" style="width:100.0%" /></td>
</tr>
</tbody>
</table>
<p>Now that the data is prepared. We shall then proceed to create the visualization charts.</p>
</div>
<div class="panel">
<h2 id="by-tableau-desktop" class="panel-name">By Tableau Desktop</h2>
<p>The respective Imports and Exports data are extracted from <a href="https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/merchandise-trade/latest-data">Singstat</a>, as ImportsExports.xlsx.</p>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th>Steps</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exploring the data of the file in Microsoft Excel, we can see three tabs – <em>Content</em>, <em>T1</em> and <em>T2</em>. From the description, <em>T1</em> is for <em>Imports</em>, and <em>T2</em> is for <em>Exports</em> data.</td>
<td><img src="Images/img02.jpg" /></td>
</tr>
<tr class="even">
<td>We then import the data into Tableau for processing. We do this by dragging the ImportsExports.xlsx file into the Tableau window.</td>
<td><img src="Images/img03.png" style="width:110.0%" /></td>
</tr>
<tr class="odd">
<td>Once the data is imported, we load the individual tabs for data viewing. Here we load <em>T1</em> (Imports) data by dragging <em>T1</em> into the field.</td>
<td><img src="Images/img04.png" style="width:110.0%" /></td>
</tr>
<tr class="even">
<td>We note that there is unnecessary description information in the data table. We can get Tableau to clean this up by checking the <em>Data Interpreter</em> box. Tableau is able to scan through and distinguish the content. This way, only the table containing the data we need remains.</td>
<td><img src="Images/img05.png" style="width:80.0%" /></td>
</tr>
<tr class="odd">
<td>Now the data table only contains the data we need. However, it is not in the correct structure. Currently, each <em>Month-Year</em> is a column, but we need this as a Dimension instead. So we have to do a pivot on this dataset to convert it to a stacked format.<br></br>Highlight all the data columns except the Country column, Right Click on any highlighted column &gt; Pivot</td>
<td><img src="Images/img06.png" style="width:110.0%" /></td>
</tr>
<tr class="even">
<td>The pivoted table should look like this.</td>
<td><img src="Images/img07.png" style="width:90.0%" /></td>
</tr>
<tr class="odd">
<td>Note that the <em>Countries</em> in the Variables column are displayed together with their units – “Million Dollars” for European Union and “Thousand Dollars” for the rest. These will also appear in any visualization that use these variables. We will extract the <em>Country</em> names by doing a Custom Split on the Variables column.<br></br>Right-Click on Variables column &gt; Custom Split &gt; Use Separator ‘(‘, Split off First 1 columns<br></br>A new column of the split Variables will appear.</td>
<td><img src="Images/img08.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>We note that the units indicated in the Variables column are in “Million dollars” for European Union, and “Thousand dollars” for the rest, this means that the values displayed in the Pivot Field Value column need to be multiplied by a million and thousand dollars for European Union values, and other countries respectively. This is not intuitive. We shall convert the values so that the actual value is displayed.<br></br>We do this by creating a calculated field. <br></br>Right-Click on Pivot Field Values column &gt; Create Calculated Field &gt; Rename the new field as Imports ($) &gt; Key in the formula<br></br>IF[Country]=“European Union”<br></br>THEN [Pivot Field Values]* 1000000<br></br> ELSE [Pivot Field Values]*1000<br></br>END</td>
<td><img src="Images/img09.png" style="width:110.0%" /></td>
</tr>
<tr class="odd">
<td>The format of the <em>Pivot Field Names</em> is in String. We change it to <em>Date</em> format.<br></br>Right-Click the <em>Abc</em> in the top left corner &gt; Date</td>
<td><img src="Images/img10.png" style="width:80.0%" /></td>
</tr>
<tr class="even">
<td>Next we will rename the data table, and the columns of the data table for ease of access. We will only rename those that we will be using eventually. <br></br>T1 &gt; Imports <br></br> Pivot Field Names &gt; Date <br></br> Variables-Split 1 &gt; Country <br></br> Imports($) &gt; To be retained</td>
<td><img src="Images/img11.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Next, we repeat the above steps for <em>T2</em>.</td>
<td><img src="Images/img12.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Finally, the relationship between the Imports and Exports table as follows. <br></br> This would tell Tableau how the data tables are related, so that when we apply filters later in the worksheet, the filters can apply to both tables.</td>
<td><img src="Images/img13.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>According to the <em>Task</em>, the study period is between January 2011 – December 2020:<br></br> Hence, we shall exclude the data prior to Jan 2011 from the data tables. This is so that the processing will not be slowed down by the huge dataset. <br></br> Filter for columns <em>Date</em>, <em>Date (Exports)</em>. <br></br> <em>Date</em>, <em>Date (Exports)</em>: Select Filter on <em>Range of Dates</em> &gt; Month / Year &gt; Check the <em>Exclude</em> box &gt; Select all <em>Years</em> before 2011 and after 2020. <br></br> The final filtered list is as shown.</td>
<td><img src="Images/img14.png" style="width:100.0%" /> <img src="Images/img15.png" style="width:80.0%" /></td>
</tr>
</tbody>
</table>
</div>
</div>
<h2 id="section" class="unnumbered"></h2>
<h2 id="visualization-chart-preparation">4.2 Visualization Chart Preparation</h2>
<p>We will need to create the following charts, in the following sequence:</p>
<ol type="1">
<li>Imports/Exports Line Chart</li>
<li>Imports / Exports Bar Chart</li>
<li>Net Exports Imports Bubble Plot</li>
</ol>
<p>The line chart will be used in the tooltips for the bar chart.</p>
<h3 id="imports-exports-line-charts">4.2.1 Imports / Exports Line Charts</h3>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th>Steps</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Create a new Worksheet, rename it to <em>Imports Line Chart</em></td>
<td><img src="Images/img40.png" style="width:80.0%" /></td>
</tr>
<tr class="even">
<td>We want to create a line chart to show the monthly variations of import values for each year, each country.<br></br>Imports value as the Y-axis, and <em>Month of Year</em> as the X-axis.<br></br>So we drag <em>Imports ($)</em> to Rows, and <em>Date</em> to Columns.<br></br>We then click the + symbol beside <em>Year (Date)</em> to create a <em>Month (Date)</em>. This way, we can see the monthly variations grouped by year.</td>
<td><img src="Images/img41.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Next, we will add a filter for <em>Year</em> to be able to show the chart for different years.<br></br>Drag the <em>Date</em> measure to the Filters pane &gt; Choose to Filter by <em>Years</em></td>
<td><img src="Images/img42.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Filter &gt; Use all</td>
<td><img src="Images/img43.png" style="width:80.0%" /></td>
</tr>
<tr class="odd">
<td>Click on the small down arrow under the <em>Year (Date)</em> filter &gt; Select Show Filter <br></br> On the Filter list that appears on the right window, change the list type to <em>Single Value (list)</em>. This is so that the user can select and switch single values and need not check and uncheck the entire list. <br></br>We will remove the <em>All</em> option by Customize &gt; Uncheck the Show “All” Value</td>
<td><img src="Images/img44.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>As this line chart will eventually be referenced within the <em>Imports Exports Bar</em> chart, we need the filter to apply to both worksheets at least. <br></br>So we will apply this setting: <br></br>Small down arrow under the <em>YEAR(Date)</em> filter &gt; Apply to Worksheets &gt; Selected Worksheets <br></br>Choose the worksheets to apply to.</td>
<td><img src="Images/img45.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>To enable better feel of the trend, we add a reference line for Average value. <br></br>Right-Click on Y-Axis &gt; Add Reference Line <br></br>Choose <em>Average</em> Value <br></br>Set to create a <em>Value</em> label <br></br>For formatting, we will choose a light-colored line as it only serves as reference and should not be blocking any main data in the chart.</td>
<td><img src="Images/img46.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Notice that the label is very long, since it’s the actual average value in Billions. We can change the label formatting: <br></br>Right-Click on label &gt; Format <br></br>Reference Line Label pane &gt; Numbers &gt; Number (custom) &gt; Select <em>Billions (B)</em> as Display Units</td>
<td><img src="Images/img47.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Next we perform formatting on the overall outlook of the line chart. <br></br>The header Date on the X-axis is self-explanatory, it can be hidden. <br></br>The month labels at the bottom can also be in bold font to stand out more in the tooltip later.</td>
<td><img src="Images/img48.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>To let the trend variations stand out more, we exclude the zero mark from the Y-axis to provide flexibility. <br></br>Under Edit Axis &gt; Uncheck Include zero</td>
<td><img src="Images/img49.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>We now create the above line chart for <em>Exports</em>. <br></br>To do this more conveniently without having to repeat the above steps manually, duplicate the <em>Imports Line Chart</em> worksheet. <br></br>Rename it as <em>Exports Line Chart</em>.</td>
<td><img src="Images/img50.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Drag <em>Exports ($)</em> to Rows, remove <em>Imports ($)</em> from Rows by just dragging it away from the field. <br></br>And you have the <em>Exports Line Chart</em> created. <br></br>Note that with this method, the <em>Year(Date)</em> filter automatically includes this worksheet as well.</td>
<td><img src="Images/img51.png" style="width:100.0%" /></td>
</tr>
</tbody>
</table>
<h3 id="imports-exports-bar-charts">4.2.2 Imports / Exports Bar Charts</h3>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th>Steps</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Create a new Worksheet by clicking on <em>Sheet 1</em>, rename it to <em>Imports Exports Bar</em></td>
<td><img src="Images/img52.png" style="width:80.0%" /></td>
</tr>
<tr class="even">
<td>We want to create a pyramid bar chart with <em>Country</em> as the Y-axis, and <em>Imports Value</em> and <em>Exports Value</em> as the X-axes. <br></br>So we drag <em>Country</em> to Rows, <em>Imports ($)</em> and <em>Exports ($)</em> to Columns.</td>
<td><img src="Images/img53.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>We want the bars for <em>Imports ($)</em> joined to the <em>Exports ($)</em> as one bar. So we invert the X-axis. <br></br>Right-Click on the <em>Imports ($)</em> axis &gt; Edit Axis</td>
<td><img src="Images/img54.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Under Scale, check Reversed</td>
<td><img src="Images/img55.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Your bar chart should now look like this.</td>
<td><img src="Images/img56.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>We can amend the colours to differentiate between the <em>Imports</em> and <em>Exports</em> bars. <br></br>To change the colour for the <em>Imports</em> bar: <br></br>Go to Marks &gt; <em>SUM(Imports ($))</em> Pane &gt; Color</td>
<td><img src="Images/img57.png" style="width:50.0%" /></td>
</tr>
<tr class="odd">
<td>To add labels: <br></br>Go to Marks &gt; SUM(Imports ($)) Pane &gt; Drag <em>Imports($)</em> to Label <br></br>Do the same for the <em>SUM(Exports ($))</em>.</td>
<td><img src="Images/img58.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>To change the format of the labels: <br></br>Right-Click on the <em>SUM(Imports ($))</em> Label &gt; Format <br></br>Pane &gt; Default &gt; Numbers <br></br>The display units are changed to <em>Billions (B)</em> so that the figure does not look so lengthy. This can be changed under Number (Custom). <br></br>Do the same for the <em>Exports</em> bar chart.</td>
<td><img src="Images/img59.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Now, note that all countries are listed in the chart, sorted in alphabetical order by default. This long list is hard to read and it is also hard to compare and suss out meaningful data. <br></br>The intended design is to only display the <em>Top N countries</em>. To add on user interactivity, we shall enable the user to choose both <em>Top N</em>, and the <em>measure</em> they want the Top N countries for, e.g. Top 10 by <em>Imports</em>, or <em>Exports</em> etc. The output will also rank this list in descending order so that the Top country is placed at the top. <br></br> We will set this up by first creating a <em>Set</em>. <br></br>Data pane &gt; Right-Click the <em>Country</em> dimension &gt; Create &gt; Set <br></br>Rename the set as <em>Top N Countries by Field</em>.</td>
<td><img src="Images/img60.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Go to the <em>Top</em> tab <br></br>Select <em>By Field</em> as that is what we would be filtering the top countries by. <br></br>Key in <em>Top 10</em> for now since we want the Top N countries. We will edit this <em>N</em> later. <br></br>For now, we will select <em>By</em> the sum of <em>Imports ($)</em> measure. We will amend this later.</td>
<td><img src="Images/img61.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>To apply this to the bar chart, drag the newly created set to the Columns field. <br></br> Note to put it to the left of the <em>Country</em> dimension because we want to filter the dimensions. <br></br> Once this is up, you will notice that the bar chart is split into two, with the top section labeled <em>IN</em>, bottom labeled <em>OUT</em>. <em>IN</em> refers to the members included within the set of Top 10 Countries by <em>Imports ($)</em> as specified earlier. The rest of the members or countries are categorized under <em>OUT</em>.</td>
<td><img src="Images/img62.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Since we only want to see the <em>IN</em> members, we can make the <em>OUT</em> section disappear by: <br></br>Right-Click <em>IN/OUT(Top N Countries by Field)</em> under Rows &gt; select <em>Show Members in Set</em></td>
<td><img src="Images/img63.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Another Header column would appear to the left of <em>Country</em> in the bar chart. This is just a repetition of the Top 10 members in the set. We can hide this column by: <br></br> Clicking the down-arrow under the <em>Top N Countries by Field</em> in Row &gt; Uncheck <em>Show Header</em></td>
<td><img src="Images/img64.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Next, we will set up a parameter required as a measure selector. <br></br> We will first do this by creating a new parameter called <em>Select a Measure</em>. <br></br> Under Data Pane &gt; Small Down Arrow &gt; Create Parameter</td>
<td><img src="Images/img65.png" style="width:60.0%" /></td>
</tr>
<tr class="odd">
<td>Rename the Parameter as <em>Select a Measure</em> <br></br> Then we will manually create a list of Allowable Values. <br></br>As we want to be able to select the measures <em>Imports</em>, <em>Exports</em> and <em>Total Trade Value</em>, we key these options in accordingly.</td>
<td><img src="Images/img66.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>We want to tell Tableau what output we would like when we choose the above values, so we need to create a <em>Calculated Field</em>. <br></br> Select Analysis &gt; Create Calculated Field <br></br> Rename the calculated field as <em>Selected Measure</em>. <br></br> Then key in the formula as shown. We are basically telling Tableau when <em>Imports</em> is selected, please output the measure <em>Imports ($)</em> etc. <br></br> Make sure that the calculation is valid.</td>
<td><img src="Images/img67.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Next, we will create another parameter for selecting N, where the Top N countries will be displayed in the bar chart. <br></br> Create a new parameter and rename it to <em>Select Top N</em>. <br></br> Select <em>Integer</em> as the Data type as we want the selected output to be whole numbers. <br></br> For allowable values, we can select <em>All</em> or choose to have a <em>Range</em>. I chose to set Minimum as 10 for aesthetic reasons, so that there would be at least 10 bars on the dashboard at all times, and Maximum of 120 as there are 114 countries/regions in our dataset to list.</td>
<td><img src="Images/img68.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>With these newly created measures, we can proceed to apply them to the chart. We do this by editing the settings of the <em>Top N Countries</em> set. <br></br> Go to the <em>Top N Countries</em> Measure under Rows &gt; Small Down Arrow &gt; Select Edit Set</td>
<td><img src="Images/img69.png" style="width:50.0%" /></td>
</tr>
<tr class="odd">
<td>Remember that we set to generate the Top 10 Countries by the <em>Imports ($)</em> measure earlier? We shall now change that to an <em>dynamic open field</em> which allows us to vary the measure. <br></br> Change <em>Imports ($)</em> selection to <em>Selected Measure</em>. <br></br> Click Apply.</td>
<td><img src="Images/img70.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>To enable the user to choose the <em>Selected Measure</em>, we enable the parameter control. <br></br> Under Parameters &gt; Small Down Arrow of Select a Measure &gt; Show Parameter</td>
<td><img src="Images/img71.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>The Parameter Control will now appear to the right of the screen. <br></br> Click the Small Down Arrow to switch to <em>Single Value (List)</em> to show the list as radio buttons and allow easier selection.</td>
<td><img src="Images/img72.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Notice now that the list is sorted in alphabetical order. It would be neater if we could show the Top 10 Countries for each measure in <em>descending order</em>. This would enable the user to know which country is the Top Importer/Exporter at one glance instead of needing to do the sorting manually. <br></br> We change this setting by: <br></br> Small Down Arrow of <em>Top N Countries</em> measure under Rows &gt; Select Sort</td>
<td><img src="Images/img73.png" style="width:50.0%" /></td>
</tr>
<tr class="odd">
<td>Sort By <em>Field</em> <br></br> Sort in <em>Descending</em> Order since we want the Top Importer/Exporter to be positioned on top <br></br> Field Name: <em>Selected Measure</em>. <br></br> This means we want to sort according to the measure selected by the user. <br></br> Close the window after selection.</td>
<td><img src="Images/img74.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Now the bar chart displays the Top <em>10</em> Countries according to the selected measure, in <em>descending</em> order.</td>
<td><img src="Images/img75.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Link the Parameter to the <em>Set</em> by applying <em>Select Top N under By Field</em>. <br></br> Show Parameter for user control. <br></br> We will choose <em>Slider</em> as the type for user control as it is more convenient for user to change the <em>N</em> figure with the mouse.</td>
<td><img src="Images/img76.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Next, we will add a filter for <em>Year</em> to be able to show the chart for different years. <br></br> Drag the <em>Date</em> measure to the <em>Filters</em> pane &gt; Choose to Filter by <em>Years</em></td>
<td><img src="Images/img77.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Filter &gt; Use all</td>
<td><img src="Images/img78.png" style="width:60.0%" /></td>
</tr>
<tr class="even">
<td>Click on the small down arrow under the <em>Year (Date)</em> filter &gt; Select <em>Show Filter</em> <br></br> On the Filter list that appears on the right window, change the list type to <em>Single Value (list)</em>. This is so that the user can select via a radio button and switch single values and need not check and uncheck the entire list. <br></br> We will remove the All option by Customize &gt; Uncheck the <em>Show “All”</em> Value</td>
<td><img src="Images/img79.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>We can also edit the filter title to make it more friendly, like <em>Select Year</em>. We will also edit the filter title for <em>Select a Measure</em>. <br></br> Right-Click on <em>YEAR(Date)</em> filter &gt; Edit Title <br></br> New title for <em>YEAR (Date)</em> : <em>Select Year</em> <br></br> New title for <em>Select a Measure</em> : <em>Rank By:</em></td>
<td><img src="Images/img80.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>We want to let the chart title reflect the output accordingly. For e.g. if the chart is ranked by Imports, for the Year <em>2012</em>, we want to show that in the title. <br></br> Hence, we will amend the title text this way. By replacing the text with the field variable itself, it would vary with the selected field. <br></br> The subtitle will also double up as the legend for the chart. This way we can exclude the headers at the bottom of the chart. They are also not needed since we have labels for each bar.</td>
<td><img src="Images/img81.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Next, we do up the tooltips. The tooltips are designed such that when the user hovers across say the <em>Imports bar</em>, the country, the value, the line chart showing the monthly variation of the measure for that year, and the total trade value should pop up. <br></br> We start by doing this for the <em>Imports bars</em>. <br></br>Select <em>SUM(Imports ($)</em> under Marks pane &gt; Tooltip</td>
<td><img src="Images/img82.png" style="width:50.0%" /></td>
</tr>
<tr class="even">
<td>Within the tooltip, we insert the <em>Imports Line Chart</em> by going to Insert &gt; Sheets &gt; <em>Imports Line Chart</em> <br></br> The formatting line would then appear in the box. We shall adjust the figure width to a dimension fits properly, here I have chosen 600. Then we want to include a filter for the chart by <em>Country</em> and <em>Year</em>. So we key in &lt; Country &gt; and &lt; YEAR(Date) &gt; under <em>filter =</em>.</td>
<td><img src="Images/img83.png" style="width:120.0%" /></td>
</tr>
<tr class="odd">
<td>You would notice that the <em>Total Trade</em> is absent in the dropdown list under <em>Insert</em> within the tooltip. This is why we need an additional step. <br></br> To insert <em>Total Trade Value</em> into the tooltip, we first drag the <em>Total Trade</em> measure into the Tooltip Marks field. This is so that it can be included in tooltips. <br></br> With this, we can simply insert this measure like how we insert the chart in the previous step.</td>
<td><img src="Images/img84.png" style="width:120.0%" /></td>
</tr>
<tr class="even">
<td>Formatting can be done directly within the tooltip window to beautify the display. <br></br> You can also do a <em>Preview</em> to view the outcome of the settings before applying them.</td>
<td><img src="Images/img85.png" style="width:120.0%" /></td>
</tr>
<tr class="odd">
<td>Repeat the above two steps for <em>Exports</em> bars, but selecting to insert <em>Exports Line Chart</em> within the tooltip. <br></br> This is what the final tooltips would look like.</td>
<td><img src="Images/img86.png" style="width:120.0%" /></td>
</tr>
<tr class="even">
<td>To be able to see how the trends and ranks vary with each user selection, we can apply <em>Animation</em>. <br></br> Format &gt; Animation <br></br> Switch it to <em>On</em> for <em>Workbook Default</em> so that it can apply to all Worksheets. <br></br> For duration, can set it to slow so that movements can be more obvious and visible. We can leave the style as simultaneous if we want every change to move together.</td>
<td><img src="Images/img87.png" style="width:120.0%" /></td>
</tr>
<tr class="odd">
<td>The final <em>Imports Exports</em> bar chart.</td>
<td><img src="Images/img88.png" style="width:130.0%" /></td>
</tr>
</tbody>
</table>
<h3 id="net-exports-imports-bubble-plot">4.2.3 Net Exports Imports Bubble Plot</h3>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th>Steps</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Create a new Worksheet by clicking on <em>New Worksheet</em>, rename it to <em>Net Bubble Plot</em></td>
<td><img src="Images/img89.png" style="width:70.0%" /></td>
</tr>
<tr class="even">
<td>We want to create a scatter plot with <em>Imports</em> as the Y-axis, and <em>Exports</em> as the X-axis. <br></br> So we drag Imports ($) to Rows, and Exports ($) to Columns. <br></br>Note that only one point appears in the plot. This is because Tableau has aggregated all values.</td>
<td><img src="Images/img90.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>We shall now tell Tableau that we want the points categorized by <em>Country/Region</em>.<br></br> We do this by dragging <em>Country</em> to Detail under Marks to disperse the points into their respective regions. <br></br> Now you will see the scatter points for each country on the plot.</td>
<td><img src="Images/img91.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Next, we want to reflect the total merchandise trade value (i.e. sum of imports and exports) of each country by the size of the bubbles. <br></br> We do this by_ Creating a Calculated Field_. <br></br> Right-Click the <em>Imports($)</em> measure &gt; Create &gt; Calculated Field</td>
<td><img src="Images/img92.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>We will name this new calculated field <em>Total Trade</em>. <br></br> Key in the formula: <br></br> [Imports ($)] + [Exports ($)]<br></br> If the variables and links have been inserted correctly, Tableau will tell you that the calculation is valid.</td>
<td><img src="Images/img93.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>With this new measure created, we can then size our bubbles with it. <br></br> Drag <em>Total Trade</em> to Size under Marks. <br></br> If the bubbles look too small, their relative sizes can be adjusted by clicking on Size and varying the meter. Take note not to increase the sizes too much such that the circles overlap and block information.</td>
<td><img src="Images/img94.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>To make the bubbles stand out more, we fill them. <br></br> Go to Marks &gt; Change <em>Automatic</em> to <em>Circle</em>. <br></br> We now see that the bubbles are filled but seem coalesced. This can be solved by changing the format under Marks &gt; Color. <br></br> Set border to <em>White</em> and Opacity to <em>79%</em> so that the bubbles are more distinctive from one another. Note that with this colour combination, there seems to be a 3D effect to the bubbles as well, which looks good.</td>
<td><img src="Images/img95.png" style="width:120.0%" /></td>
</tr>
<tr class="even">
<td>Next, we want to reflect the status of trade balance for each market. The status will give an indication of whether the there was a net export or import with these partners. <br></br> Trade balance is computed by : <em>Value of Exports</em> – <em>Value of Imports</em><br></br> <strong>Trade Surplus</strong> occurs when there is a positive trade balance, when Exports &gt; Imports. <br></br> <strong>Trade Deficit</strong> occurs when there is a negative trade balance, when Exports &lt; Imports. <br></br> We will create a calculated field to compute the <em>Trade Balance</em>. <br></br> Analysis &gt; Create Calculated Field &gt; Rename the field to <em>Trade Balance</em> <br></br> Drag the <em>Exports ($)</em> and <em>Imports ($)</em> variables to the formula field accordingly: Exports – Imports. <br></br> Check that the calculation is valid before applying.</td>
<td><img src="Images/img96.png" style="width:120.0%" /></td>
</tr>
<tr class="odd">
<td>We want to differentiate the trade balance status by bubble color. This means that we can tell from the color whether this market has a trade surplus or trade deficit. The color intensity should also tell us the extent of the surplus or deficit. <br></br> Drag the newly created field <em>Trade Balance</em> to Color (under Marks).</td>
<td><img src="Images/img97.png" style="width:80.0%" /></td>
</tr>
<tr class="even">
<td>We will now adjust the color settings such that a trade surplus will show blue, trade deficit will show red. The distinction is between positive and negative values, therefore we choose two diverging colors. <br></br> The color settings can be done by clicking on Color &gt; Edit Colors <br></br> Choose the colors on both ends of the spectrum. In this case, it would be blue on the side with the greater value, and red on the other. Be sure to set the <em>Center</em> to 0 under Advanced settings. This will ensure that 0 is the distinction point between blue and red, where blue is positive, red is negative. <br></br> Note that there is a gradual intensity applied, so as to reflect the magnitude of the value. Darker color would mean a greater magnitude, be it positive or negative.</td>
<td><img src="Images/img98.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Next, we want to set up the tooltips for the bubbles, to let the user have access to more information when they hover over a bubble. <br></br> Per our design, we would need to include the following figures: <br></br> <strong>Trade balance</strong> figure (with deficit/surplus status reflected in color) <br></br> Country’s <strong>rank</strong> in terms of <em>Total Trade Value</em> <br></br> <strong>Annual Imports</strong> and <strong>Annual Exports</strong> <br></br> We would first set up the trade balance input. Note that we already have this measure in place, so the following steps are taken just to differentiate the status by color. We shall create two calculated fields – one for <em>Trade Surplus</em>, the other for <em>Trade Deficit</em>.<br></br> Go to Analysis &gt; Create Calculated Field <br></br> The respective formulas to key in for the calculated field are as shown. Note that the output of both formulas have to be mutually exclusive and continuous (i.e. if one is &gt; 0, the other has to be &lt;=0) <br></br> Drag both new calculated fields into the Tooltip Marks pane.</td>
<td><img src="Images/img99.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Then we set up the ranks for each measure. We will use the <em>RANK_DENSE()</em> formula for this. As the highest value is ranked top, we will key in <em>desc</em> as an argument. <br></br> Go to Analysis &gt; Create Calculated Field <br></br> Rename the computed field, key in the formula as shown. Note that a <em>Default Table Calculation</em> will appear above the OK icon after the formula is keyed in. We need to adjust this to tell Tableau what field to do the ranking by. So click on <em>Default Table Calculation</em> &gt; Switch <em>Automatic</em> to <em>Country</em>.</td>
<td><img src="Images/img100.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Key in the formulas for <em>Exports</em> and <em>Total Trade Value</em> respectively to create their <em>Ranking</em> measure.</td>
<td><img src="Images/img101.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Next, we will add a filter for <em>Year</em> to be able to show the chart for different years. <br></br> Drag the <em>Date</em> measure to the Filters pane &gt; Choose to Filter by <em>Years</em></td>
<td><img src="Images/img102.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Filter &gt; Use all</td>
<td><img src="Images/img103.png" style="width:60.0%" /></td>
</tr>
<tr class="even">
<td>Click on the small down arrow under the <em>Year (Date)</em> filter &gt; Select <em>Show Filter</em> <br></br> On the Filter list that appears on the right window, change the list type to <em>Single Value (list)</em>. This is so that the user can select via a radio button and switch single values and need not check and uncheck the entire list. <br></br> We will remove the <em>All</em> option by Customize &gt; Uncheck the <em>Show “All” Value</em></td>
<td><img src="Images/img104.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Next we link this filter with the general <em>Select Year</em> filter we have created earlier for all Worksheets. This way, the user just has to select once and it will be applied to all. <br></br> Small down arrow under the <em>YEAR(Date)</em> filter &gt; Apply to Worksheets &gt; Selected Worksheets <br></br> Check <em>Net Bubble Plot</em> as well.</td>
<td><img src="Images/img105.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>We will now proceed to set up the bubble tooltips. <br></br> Drag the following measures into the Tooltip Marks pane so that they can be used within the Tooltip. <br></br> <em>TradeDeficit</em>, <em>TradeSurplus</em> , <em>Ranking by Exports</em>, <em>Ranking by Imports</em>, <em>Ranking by Total Trade</em></td>
<td><img src="Images/img106.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Insert the measures within the Tooltip field as shown. <br></br> For the Trade Balance Status, even if we include both <em>TradeDeficit</em> and <em>TradeSurplus</em>, only the valid one would appear in the tooltip. <br></br> Formatting can be done within this window as well.</td>
<td><img src="Images/img107.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Note that the value figures are displayed in actual numerals, we would like it to be succinct and consistent with the rest of the visualization, so we amend it to show in <em>$ B</em>, to 2 decimal places. <br></br> We can change this under the Format &gt; Pane &gt; Default &gt; Numbers &gt; Number (Custom) setting for all respective measures. <br></br> Insert $ as the Prefix, and <em>Billions (B)</em> as Display Units.</td>
<td><img src="Images/img108.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>The final tooltip would look like this.</td>
<td><img src="Images/img109.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>Amend the title to reflect what the chart is telling us. <br></br> We also include the <em>Year</em>, which should change dynamically according to the user selection. This is to tell the user clearly for which year the chart is showing values for. <br></br> The subtitle would give the user some guidance on how interactive the chart can be. <br></br> Double click the title to call up the <em>Edit Title</em> window.</td>
<td><img src="Images/img110.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>The final bubble plot looks like this, with one of the tooltips displayed.</td>
<td><img src="Images/img111.png" style="width:100.0%" /></td>
</tr>
</tbody>
</table>
<h2 id="dashboard-preparation">4.3 Dashboard Preparation</h2>
<p>We already have all the charts required for the dashboard. We shall set that up next.</p>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th>Steps</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Create a new Dashboard Tab, rename it to <em>Trade DB</em></td>
<td><img src="Images/img112.png" style="width:60.0%" /></td>
</tr>
<tr class="even">
<td>Change the Layout Size from the default <em>Desktop</em> to <em>Automatic</em>. This is so that it is flexible enough to resize itself and be viewed on any screen type.</td>
<td><img src="Images/img113.png" style="width:60.0%" /></td>
</tr>
<tr class="odd">
<td>The planned layout will be as follows. <br></br> We shall drag the sheets to the respective areas. <br></br> Use <em>Blank</em> objects to adjust space between the filters to prevent them from cluttering together.</td>
<td><img src="Images/img114.png" style="width:100.0%" /></td>
</tr>
<tr class="even">
<td>The year selection is synchronized between the bubble plot and bar chart. That is good and we would retain that. <br></br> It would be good also if we allowed the user to select a bubble in the bubble plot, and the corresponding bar chart for that country is highlighted, and vice versa. <br></br> We will do this setting by: <br></br> Dashboard &gt; Actions &gt; Add Action &gt; Highlight</td>
<td><img src="Images/img115.png" style="width:100.0%" /></td>
</tr>
<tr class="odd">
<td>Rename the Action to <em>HighlightBoth</em>. <br></br> Tableau has selected to run action on <em>Select</em>, and for both displayed sheets by default. As that is what we need, we retain these settings.</td>
<td><img src="Images/img116.png" style="width:70.0%" /></td>
</tr>
<tr class="even">
<td>And our final dashboard is ready!</td>
<td><img src="Images/img117.png" style="width:120.0%" /></td>
</tr>
</tbody>
</table>
<h1 id="the-final-visualization">5. The Final Visualization</h1>
<p><img src="Images/img117.png" /></p>
<p>There can be various levels of interaction for this dashboard. Every change is animated so that the user is able to see the transition.</p>
<p>One, we can select the year we want to see the numbers for under the filter <em>Select Year</em>.</p>
<p>We also can hover over a bubble to see more information on that country/region.</p>
<p><img src="Images/img118.png" /> We can hover over each bar chart to see the monthly variation trend of the export value for that country.</p>
<p><img src="Images/img119.png" /> We can also choose the measure we want to see the Top 10 ranked countries for – by <em>Imports</em>, <em>Exports</em>, or <em>Total Trade Value</em>. The countries will be listed and arranged accordingly in descending order. The following bar chart is ranked by <em>Exports</em> value.</p>
<p><img src="Images/img120.png" /> If we want to see the <em>Top 20</em> list instead of <em>Top 10</em>, we can easily change this with the <em>Select Top N</em> slider on the right. The following view shows the <em>Top 13</em> list, where <em>N</em> = 13.</p>
<p><img src="Images/img121.png" /> Lastly, when one bubble or bar chart of one country is selected, the corresponding bar chart or bubble in the other chart would be highlighted.</p>
<p><img src="Images/img122.png" /> The visualization can be accessed <a href="https://public.tableau.com/app/profile/mt.tong/viz/DataVizMakeover2_16240837165630/TradeDB">here</a>.</p>
<p>Here is a sample of the interactive visualization. Do feel free to try it! Dimensions shown below are not in the same scale as viewed on the Tableau site.</p>
<div class="layout-chunk" data-layout="l-body">
<html>
<div class='tableauPlaceholder' id='viz1624285326693' style='position: relative'><noscript><a href='#'><img alt='Trade DB ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Da&#47;DataVizMakeover2_16240837165630&#47;TradeDB&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='DataVizMakeover2_16240837165630&#47;TradeDB' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Da&#47;DataVizMakeover2_16240837165630&#47;TradeDB&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1624285326693');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='877px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
</html>
</div>
<h1 id="major-insights-revealed-by-the-final-visualization-prepared">6. Major Insights Revealed by the Final Visualization Prepared</h1>
<ol type="1">
<li><p>From 2011 to 2019, Mainland China, United States, and Malaysia secured the top 3 positions as Singapore’s top importers. Initially in 2011 and 2012, Malaysia was the top importer. Mainland China’s imports grew in the next 2 years to secure the top position ever since, and also leading by a huge margin of about $10 Billion compared to the second highest importer. Malaysia and United States have been taking turns with the second and third position for the subsequent 7 years, until 2020, when Taiwan overtook United States to take the third position.</p></li>
<li><p>For exports, Singapore’s top exporters were Malaysia, Indonesia and Hong Kong in 2011. Mainland China ousted out Indonesia and squeezed into the Top 3 in 2013, and secured the top spot ever since. Malaysia dropped to the 4th position in 2020 when it was overtaken by United States. From the monthly variation line charts, we could see that there were huge changes for both countries. Malaysia’s exports were on a downslide from Jan and hit the bottom in April when the first Movement Control Order (MCO) was issued due to the Covid-19 pandemic. While there was some pull back after April, it still hovered at low levels. On the other hand, we saw big fluctuations in export levels with the United States, likely due to the trade duel with China. United States’ spikes and climbs in export levels were significant enough to overtake Malaysia’s.</p></li>
<li><p>By total trade value, Singapore’s Top 5 partners are Mainland China, Malaysia, Indonesia, Hong Kong and United States, with total trade value of up to $430 Bil annually. These 5 partners have secured their top positions throughout 2011 to 2020. From 2011 to 2018, apart from United States, all the other 4 partners were in a trade surplus status, or they are net exporters for Singapore. In 2019, Malaysia went into a slight trade deficit of -$0.73 Bil (exports &lt; imports) and the deficit situation worsened to -$11.65 Bil in 2020 due to Covid-19. United States, on the other hand, switched from a trade deficit status of -$14.4 Bil in 2019, to a trade surplus of $5.67 Bil in 2020.</p></li>
<li><p>Hong Kong is a consistent high net exporter for Singapore for all years from 2011 to 2020. By virtue of its strategic geographical location, and infrastructure, it has secured its position as a trans-shipment hub. It has 99% of shipments coming from re-exports.</p></li>
<li><p>It is observed that net export volume for all of Singapore’s Top 5 partners, except Hong Kong, has reduced from 2011 to 2020. It might seem as though there are less exports for them. However, note that this is the net export volume and not the absolute export volume. So, when we look at the actual total trade, import and export values, we can see that total trade value has increased. It is because the value imported is now nearer to value exported, hence the net export status has shrunk.</p></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
